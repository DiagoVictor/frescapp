<div class="container py-5">
  <h3> Cierre del {{ fechaParam }}</h3>

  <div class="accordion" id="accCierre">
<!-- indicadores-list.component.html -->
<div class="card">
  <div class="card-header">
    <h5>Indicadores de Cierre</h5>
  </div>
  <ul class="list-group list-group-flush">
    <!-- % facturado+registrado -->
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>% Volumen Facturado+Registrado</span>
      <span>{{ percentByVolume | number:'1.2-2' }} %</span>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>% Dinero Facturado+Registrado</span>
      <span>{{ percentByMoney  | number:'1.2-2' }} %</span>
    </li>

    <!-- otros indicadores del cierre -->
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>Volumen Total Compras</span>
      <span>{{ totalVolume | number }}</span>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>Dinero Total Compras</span>
      <span>{{ totalMoney | currency }}</span>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>Márgen de Efectivo</span>
      <span>{{ cash_margin | currency }}</span>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>Cierre Total</span>
      <span>{{ cierre_total | currency }}</span>
    </li>
    <!-- añade más <li> según otros campos de tu modelo Cierre -->
  </ul>
</div>

    <!-- top-purchases.component.html -->
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>SKU</th>
            <th>Nombre</th>
            <th>Precio Compra</th>
            <th>Precio Final</th>
            <th>Cant. Pedida</th>
            <th>Total Estimado</th>
            <th>Total Real</th>
            <th>Diferencia</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of top_20_purchase">
            <td>{{ p.sku }}</td>
            <td>{{ p.name }}</td>
            <td>{{ p.price_purchase | currency }}</td>
            <td>{{ p.final_price_purchase | currency }}</td>
            <td>{{ p.total_quantity_ordered }}</td>
            <td>{{ p.totalEstimated | currency }}</td>
            <td>{{ p.totalReal | currency }}</td>
            <td>
              {{ p.difference | currency }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- src/app/dashboard/top-supplies.component.html -->
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-light">
          <tr>
            <th>Proveedor</th>
            <th>Volumen Total</th>
            <th>Dinero Total</th>
            <th>Líneas de Pedido</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let s of suppliesSummary">
            <td>{{ s.supplier }}</td>
            <td>{{ s.totalVolume }}</td>
            <td>{{ s.totalMoney | currency }}</td>
            <td>{{ s.totalItems }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- src/app/purchases-by-status/purchases-by-status.component.html -->
    <div class="table-responsive">
      <table class="table table-bordered table-hover">
        <thead class="table-light">
          <tr>
            <th>Estado</th>
            <th>Cantidad de Productos</th>
            <th>Volumen Total</th>
            <th>Dinero Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let s of purchasesByStatus">
            <td>{{ s.status }}</td>
            <td>{{ s.count }}</td>
            <td>{{ s.totalVolume }}</td>
            <td>{{ s.totalMoney | currency }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="mt-3 text-end">
    <button type="button" class="btn btn-secondary" (click)="router.navigate(['/cierres'])">Regresar</button>

  </div>
</div>