<div class="container-fluid mt-5">
  <div class="row justify-content-end">
    <div class="col-auto">
      <input type="date" id="fechaFin" class="form-control" [(ngModel)]="ueDate">
    </div>
    <div class="col-auto">
      <button type="button" class="btn btn-primary" (click)="updateUnitEconomics()">
        <i class="fas fa-plus-circle fa-lg"></i>
        Actualizar UE
      </button>
    </div>
    <div class="col-10">
      <a href="https://app.buyfrescapp.com:5000/api/order/orders/csv">Ordenes en CSV</a>
    </div>
  </div>
</div>
<br><br>
<!-- Tabla de Datos Mensuales -->
<div class="container">
  <div class="row">
    <h4>Datos Mensuales</h4>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Tipo de UE</th>
          <th *ngFor="let mes of monthlyData['GMV']?.Mensual | keyvalue ">{{ mes.key }}</th>
        </tr>
      </thead>
      <tbody>
        <!-- Itera sobre cada métrica y muestra los valores de cada mes -->
        <tr
          *ngFor="let metric of ['GMV', 'COGS', 'Gross Profit', 'Gross Profit as % of GMV','Opex','WH Rent', 'Last Mile', 'Tech Cost', 'Others Cost', 'Supply Cost', 'Sales Force', 'Perssonel', 'Net Profit', 'Orders', 'Lines', 'AOV','ALV','MUA']">
          <td>{{ metric }}</td>
          <td *ngFor="let mes  of monthlyData[metric]?.Mensual | keyvalue">{{ mes.value }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <br><br>
  <!-- Tabla de Datos Semanales -->
  <div class="row">
    <h4>Datos Semanales</h4>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Tipo de UE</th>
          <!-- Itera sobre los periodos semanales (semanas) de los datos pivotados -->
          <th *ngFor="let semana of weeklyData['GMV']?.Semanal | keyvalue">{{ semana.key }}</th>
        </tr>
      </thead>
      <tbody>
        <!-- Itera sobre cada métrica y muestra los valores de cada semana -->
        <tr
          *ngFor="let metric of ['GMV', 'COGS', 'Gross Profit', 'Gross Profit as % of GMV','Opex','WH Rent', 'Last Mile', 'Tech Cost', 'Others Cost', 'Supply Cost', 'Sales Force', 'Perssonel', 'Net Profit', 'Orders', 'Lines', 'AOV','ALV','MUA']">
          <td>{{ metric }}</td>
          <td *ngFor="let semana of weeklyData[metric]?.Semanal | keyvalue">{{ semana.value }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
